<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta content="Analíticos de candidatos presidenciales." name="description">
    <meta content="Grupo SIAYEC: Saúl Zamora / Carlos Barrón" name="author">

	  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.3.0/Chart.min.js"></script>
    <link rel="stylesheet" type="text/css" href="././js/style.css">

	<style type="text/css">
		.mifecha {
		   background-color: #0000;
		   padding: 3px;
		   width: 110px;
		   text-align: center;
		   font-family:verdana, arial;
		   font-size: 12pt;
		}
		.mifecha .ano{
		   background-color: #6C6969;
		   padding: 2px;
		   font-size: 100%;
		   margin-bottom: 3px;
		   color: #fff;
		   letter-spacing: 3px;
		   font-weight: bold;
		}
		.mifecha .dia{
		   background-color: #3A8CD1;
		   font-size: 300%;
		   padding: 5px 8px;
			 color: #fff;
		   margin-bottom: 3px;
		   font-weight: bold;
		}
		.mifecha .mes{
		   background-color: #6C6969;
		   font-size: 80%;
		   padding: 2px;
		   color: #fff;
		   font-weight: bold;
		}
	</style>

	  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">
    <title> Candidatos Presidenciales 1234 </title>



	  <style>
			canvas{
			}
		</style>
 </head>
  <body>

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T" crossorigin="anonymous"></script>
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item active" aria-current="page"><a href="" class="disabled">Analíticos de candidatos presidenciales</a></li>
      </ol>
    </nav>
    <div class="container-fluid">
      <div class="row">
        <div class="col-8">
          <div class="row">
            <div class="col">
              <div class="btn-group-vertical" role="group" aria-label="First group">
                <button type="button" class="btn btn-secondary" onclick="changeData(1)">Followers</button>
                <button type="button" class="btn btn-secondary" onclick="changeData(2)">Lists</button>
                <button type="button" class="btn btn-secondary" onclick="changeData(3)">Tweets</button>
              </div>
            </div>
            <div class="col">


				<div class="wrapper">
      <h1>Candidatos Presidenciales</h1>
      <h2>Análisis Twitter</h2>

      <canvas id="myChart" width="800" height="500"></canvas>
    </div>
	<script>
var allDates = [{{range $y, $x := . }}{{ $x.Date }},{{end}},];
var staging = allDates[1];
var length = staging.length;
var dates = [];
for(i=0;i<length;i++){
	dates.push(staging[i].substring(0,10));
}
// For drawing the linesFavouritesCount []float64 `json:"favourites_count"`
var TWEETS_ALL_CANDIDATES = [{{range $y, $x := . }}{{ $x.NoTweets }},{{end}},];
var AMLO_TWEETS = TWEETS_ALL_CANDIDATES[0];
var ANAYA_TWEETS = TWEETS_ALL_CANDIDATES[1];
var MEADE_TWEETS = TWEETS_ALL_CANDIDATES[2];
var BRONCO_TWEETS = TWEETS_ALL_CANDIDATES[4];
var MARGARITA_TWEETS = TWEETS_ALL_CANDIDATES[3];

var FOLLOWERS_ALL_CANDIDATES = [{{range $y, $x := . }}{{ $x.FollowersCount}},{{end}},];
var AMLO_FOLLOWERS = FOLLOWERS_ALL_CANDIDATES[0];
var ANAYA_FOLLOWERS = FOLLOWERS_ALL_CANDIDATES[1];
var MEADE_FOLLOWERS = FOLLOWERS_ALL_CANDIDATES[2];
var BRONCO_FOLLOWERS = FOLLOWERS_ALL_CANDIDATES[4];
var MARGARITA_FOLLOWERS = FOLLOWERS_ALL_CANDIDATES[3];

var LISTS_ALL_CANDIDATES = [{{range $y, $x := . }}{{ $x.ListCount}},{{end}},];
var AMLO_LISTS = LISTS_ALL_CANDIDATES[0];
var ANAYA_LISTS = LISTS_ALL_CANDIDATES[1];
var MEADE_LISTS = LISTS_ALL_CANDIDATES[2];
var BRONCO_LISTS = LISTS_ALL_CANDIDATES[4];
var MARGARITA_LISTS = LISTS_ALL_CANDIDATES[3];
		
var ctx = document.getElementById("myChart");
        var myChart = new Chart(ctx, {
          type: 'line',
          data: {
            labels: dates,
            datasets: [
              {
                data: AMLO_FOLLOWERS,
                label: "Andres Manuel López Obrador",
                borderColor: "#3e95cd",
                fill: false
              },
              {
                data: ANAYA_FOLLOWERS,
                label: "Ricardo Anaya Cortés",
                borderColor: "#8e5ea2",
                fill: false
              },
              {
                data: MEADE_FOLLOWERS,
                label: "José Antonio Meade Kuribreña",
                borderColor: "#3cba9f",
                fill: false
              },
              {
                data: BRONCO_FOLLOWERS,
                label: "Jaime Rodríguez Caladerón",
                borderColor: "#e8c3b9",
                fill: false
              },
              {
                data: MARGARITA_FOLLOWERS,
                label: "Margarita Zavala",
                borderColor: "#c45850",
                fill: false
              }
            ]
          }
        });


function changeData(pos){
    switch(pos){
        case 1:
        myChart.data.datasets[0].data=AMLO_FOLLOWERS;
        myChart.data.datasets[1].data=ANAYA_FOLLOWERS;
        myChart.data.datasets[2].data=MEADE_FOLLOWERS;
        myChart.data.datasets[3].data=BRONCO_FOLLOWERS;
        myChart.data.datasets[4].data=MARGARITA_FOLLOWERS;
        myChart.update();
        break;
        case 2:
        myChart.data.datasets[0].data=AMLO_LISTS;
        myChart.data.datasets[1].data=ANAYA_LISTS;
        myChart.data.datasets[2].data=MEADE_LISTS;
        myChart.data.datasets[3].data=BRONCO_LISTS;
        myChart.data.datasets[4].data=MARGARITA_LISTS;
        myChart.update();
        break;
        case 3:
        myChart.data.datasets[0].data=AMLO_TWEETS;
        myChart.data.datasets[1].data=ANAYA_TWEETS;
        myChart.data.datasets[2].data=MEADE_TWEETS;
        myChart.data.datasets[3].data=BRONCO_TWEETS;
        myChart.data.datasets[4].data=MARGARITA_TWEETS;
        myChart.update();
        default:
        break;
    }
}	
	</script>

            </div>
          </div>
        </div>


        <div class="col-4">
			<script>
			    var f=new Date();
			     var meses = new Array ("Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre");
					document.write('<div class="mifecha">');
					document.write('<div class="ano">' + f.getFullYear() + '</div>');
					document.write('<div class="dia">' + f.getDate() + '</div>');
					document.write('<div class="mes">' + meses[f.getMonth()] + '</div>');
					document.write('</div>');
			</script>
            <div class="alert alert-danger" role="alert" id="mensaje"></div>
			<script language="javascript">
				  var Hoy=new Date()
				  var Nav=new Date(Hoy.getFullYear(), 06, 01)
				  var mseg_dia=1000*60*60*24
				  var dias
				  if (Hoy.getMonth()==06 && Hoy.getDate()>01)
					  Nav.setFullYear(Nav.getFullYear()+1)
				  dias = Math.ceil((Nav.getTime()-Hoy.getTime())/(mseg_dia))
                  var mensaje="Quedan "+dias+" días para la elección"
                  document.getElementById('mensaje').innerHTML = mensaje;
			</script>
        </div>
      </div>
    </div>
  </body>
</html>
